Ext.define('Podyozhiki.admin.controller.PanelLeft', {	extend: 'Ext.app.Controller',	views: 'Podyozhiki.admin.view.PanelLeft',	init: function() {		console.log('Admin PanelLeft controller init');		this.control({			'panelleft menu': {				click: this.onClick			}		});				var task = Ext.TaskManager.start({			run: function() {						Ext.getCmp('diploms_grid').store.load();			},			interval: 60000		});		this.getStore('Podyozhiki.admin.store.Diploms').on('load', this.onLoadStore, this);	},	onClick: function(menu, item, e, eOpts) {		console.log('Admin PanelLeft controller onClick ' + item.action);		var panelcenter = Ext.getCmp('panelcenter');		//PANEL CENTER    Ext.getCmp('panelright').hide();    Ext.getCmp('panelrightphoto').hide();		for (var key in Ext.getCmp('panelcenter').items.items) {			if (!Ext.getCmp('panelcenter').items.items[key].isHidden()) {				Ext.getCmp('panelcenter').items.items[key].hide();			}		}		Ext.getCmp(item.action).show();		//MENU		for (var key in Ext.getCmp('admin_panel_west').items.items) {			Ext.getCmp('admin_panel_west').items.items[key].removeCls('active_admin_menu');		}		Ext.getCmp('panelcenter').setTitle(Ext.getCmp('item_' + item.action).text);		Ext.getCmp('item_' + item.action).addCls('active_admin_menu');		//STORE		switch (item.action)		{			case 'users':				console.log('CASE USERS');				Ext.getCmp('users_grid').store.load();				break;			case 'stands':				console.log('CASE STANDS');				Ext.getCmp('stands_grid').store.load();        Ext.getCmp('panelright').show();                               				break;			case 'photos':				console.log('CASE PHOTOS');				Ext.getCmp('photos_grid').store.load();        Ext.getCmp('panelrightphoto').show();                               				break;			case 'encourages':				console.log('CASE ENCOURAGES');				Ext.getCmp('encourages_grid').store.load();                              				break;			case 'results':				console.log('CASE RESULTS');				Ext.getCmp('results_grid').store.load();                             				break;			case 'diploms':				console.log('CASE DIPLOMS');				Ext.getCmp('diploms_grid').store.load();				break;		}	},	onLoadStore: function(self, records, successful, operation, eOpts) {			var diplomsToPrint = false;		for (var i = 0; i <= records.length-1; i++) {			if (!records[i].data.printed) {											diplomsToPrint = true;				break;									}		}						if (diplomsToPrint) {			Ext.getCmp('item_diploms').addCls('must_print');		}	}});